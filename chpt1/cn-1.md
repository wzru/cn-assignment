# 《计算机网络》第1章作业

## 1.6

这个习题开始探讨传播时延和传输时延，这是数据网络中的两个重要概念。考虑两台主机$A$和$B$由一条速率为$R\space bps$的链路相连。假定这两台主机相隔$m$米，沿该链路的传播速率为$s$ m/s。主机$A$向主机$B$发送长度为$L$比特的分组。

a. 根据$m$和$s$表达传播时延$d_{prop}$。
$$
d_{prop}=\frac{m}{s}
$$
b. 根据$L$和$R$确定分组的传输时间$d_{trans}$。
$$
d_{trans}=\frac{L}{R}
$$
c. 忽略处理时延和排队时延，得出端到端时延的表达式。
$$
d_{end-end}=d_{prop}+d_{trans}=\frac{m}{s}+\frac{L}{R}
$$
d. 假定主机$A$在时刻$t=0$开始传输该分组。在时刻$t=d_{trans}$，该分组的最后一个比特在什么地方？
$$
刚刚离开主机A
$$
e. 假定$d_{prop}$大于$d_{trans}$。在时刻$t= d_{trans}$，该分组的第一个比特在何处？
$$
在传播链路上
$$
f. 假定$d_{proc}$小于$d_{trans}$。在时刻$t= d_{trans}$，该分组的第一个比特在何处？
$$
已经到达主机B
$$
g. 假定$s=2.5×10^8$，$L=120$比特，$R=56kbps$。求出$d_{prop}$等于$d_{trans}$的距离$m$。
$$
d_{prop}=d_{trans}\Rightarrow\frac{m}{s}=\frac{L}{R}\Rightarrow m \approx5.36\times 10^5 m
$$

## 1.13

a. 假定有$N$个分组同时到达一条当前没有分组传输或排队的链路。每个分组长为$L$，链路传输速率为$R$。对$N$个分组而言，其平均排队时延是多少？

b. 现在假定每隔$LN/R$ 秒有$N$个分组同时到达链路。一个分组的平均排队时延是多少？
$$
a.\quad\overline{d_{queue}}=\frac{\sum_{i=0}^{N-1}iL/R}{N}=\frac{(N-1)L}{2R} \\
b.\quad 由于\frac{(N-1)L}{R}\lt \frac{NL}{R}，所以下一批到达时，上一批已经传完，\quad\overline{d_{queue}}=\frac{(N-1)L}{2R}
$$

## 1.25

假定两个主机$A$和$B$相隔$20 000km$，由一条直接的$R=2Mbps$的链路相连。假定跨越该链路的传播速率是$2.5×10^8m/s$。

a. 计算带宽-时延积$R\cdot t_{prop}$。

b. 考虑从主机$A$到主机$B$发送一个$800 000$比特的文件。假定该文件作为一个大报文连续发送。在任何给定的时间，在链路上具有的比特数量最大值是多少？

c. 给出带宽-时延积的一种解释。

d. 在该链路上一个比特的宽度（以米计）是多少？它比一个足球场更长吗？

e. 根据传播速率$s$、带宽$R$和链路$m$的长度，推导出比特宽度的一般表达式。
$$
a.\quad t_{prop}=\frac{20000km}{2.5*10^8m/s}=0.08s\quad R\cdot t_{prop}=0.16Mb \\
b.\quad 0.16Mb，计算方法同a\\
c.\quad 任意时刻链路上具有的最大比特数量\\
d.\quad \frac{20000km}{0.16M}=125m，比正规的足球场长\\
e.\quad width_{bit}=\frac{m}{R\frac{m}{s}}=\frac{s}{R}
$$

## 1.31

在包括因特网的现代分组交换网中，源主机将长应用层报文（如一个图像或音乐文件）分段为较小的分组并向网络发送。接收方则将这些分组重新装配为最初的消息。我们称这个过程为报文分段。图$1-27$显示了一个报文在报文不分段或报文分段情况下的端到端传输。考虑一个长度为$8M$比特的报文，它在图1-27中从源发送到目的地。假定在该图中的每段链路是$2Mbps$。忽略传播时延、排队时延和处理时延。

![img](https://p.ananas.chaoxing.com/star3/origin/7823ef327191e4a00c735d6a2b53259f.png)

a. 考虑从源到目的地发送该报文且没有报文分段。从源主机到第一台分组交换机移动报文需要多长时间？记住，每台交换机均使用存储转发分组交换，从源主机移动到目的主机需要多长时间？

b. 现在假定该报文被分为800个分组，每个分组10 000比特长。从源主机移动第一个分组到第一台交换机需要多长时间？从第一台交换机发送第一个分组到第二台交换机，从源主机发送第二个分组到第一台交换机各需要多长时间？什么时候第二个分组能被第一台交换机全部收到？

c. 当进行报文分段时，从源主机向目的主机移动该文件需要多长时间？将该结果与a）的答案进行比较并解释之。

d. 除了减小时延外，使用报文分段还有什么原因？

e. 讨论报文分段的缺点。
$$
a.\quad 3*8*10^6b/2Mbps=12s\\
b.\quad 10000b/2Mbps=5ms \quad 5ms \quad 5ms \quad 10ms \\
c.\quad 考虑最后1个分组，需要先等待799个5ms，再经过3个5ms到达目的主机，即总共需要4.01s \\
d.\quad 减小交换机的处理压力（交换机内存可能不够大）；提高链路复用能力；\\避免被一个大数据包占用资源过久引起阻塞、超时；便于出错的重传等。\\
e.\quad 传递了一些额外的信息；需要主机计算资源来进行分组的拆分和合并
$$

## 1.33

考虑从主机$A$到主机$B$发送一个$F$比特的大文件。$A$和$B$之间有三段链路（和两台交换机），并且该链路不拥塞（即没有排队时延）。主机$A$将该文件分为每个为$S$比特的报文段，并为每个报文段增加一个$80$比特的首部，形成$L=(80＋S)$比特的分组。每条链路的传输速率为$R\space bps$。求出从$A$到$B$移动该文件的最小时延值$S$。忽略传播时延。
$$
N=F/S \\
d=(N-1+3)\frac{80+S}{R}=\frac{2S}{R}+\frac{160+F}{R}+\frac{80F}{SR}\ge 2\sqrt{\frac{160F}{R^2}}+\frac{160+F}{R}=\frac{8\sqrt{10F}+160+F}{R} \\
当且仅当S=\sqrt{40F}等号成立
$$
